Exploitation via AWS CLI (Cloud Ring 3)
Objective: continue previous challenge and explore other AWS commands.

1a) Clone repo, read the put_policy.py for the values to use to configure AWS.
  ~$ git clone https://haugfactory.com/orcadmin/aws_scripts.git
  ~$ cd aws_scripts/
  ~$ git checkout 106d33e1ffd53eea753c1365eafc6588398279b5
  ~$ nano put_policy.py

1b) Configure AWS and get a caller identity, which gets assigned to you
  ~$ aws configure
  ~$ aws sts get-caller-identity

2) Managed/shared policies can to attached to multi users. Use aws iam to list attached user policies.
  Resource: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iam/index.html
  User name gotten when getting a caller identity.
  ~$ aws iam list-attached-user-policies --user-name haug

3) Get/view the policy. Policy-arn got from step 2.
  ~$ aws iam get-policy --policy-arn arn:aws:iam::602123424321:policy/TIER1_READONLY_POLICY

4) Get the default version, version id listed in output from step 3 as DefaultVersionId.
  ~$ aws iam get-policy-version --policy-arn arn:aws:iam::602123424321:policy/TIER1_READONLY_POLICY --version-id v1

5) Inline policies are unique to particular identity/resource. Get those
  ~$ aws iam list-user-policies --user-name haug

6) Get/view inline policy for your user. Policy name from step 5.
  ~$ aws iam get-user-policy --user-name haug --policy-name S3Perms

7) Has S3 buckets that user can list objects, list them. Buckets are a resource list in step 6.
  Reference: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3api/index.html
  ~$ aws s3api list-objects --bucket smogmachines3

8) User has Lambda privileges. List those Lambda functions
Reference: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/lambda/index.html
  ~$ aws lambda list-functions

9) Get the config with public URL of Lambda function. Function name in output from step 8.
  ~$ aws lambda get-function-url-config --function-name smogmachine_lambda